# Introduction

I'd highly recommend learning [HTML](https://www.youtube.com/watch?v=kUMe1FH4CHE) and [JavaScript](https://www.youtube.com/watch?v=PkZNo7MFNFg), if you haven't already.

Some of the code is generated by ChatGPT: [source 1](https://chat.openai.com/share/2e1194bc-0d64-443a-bb4c-e26b3d6e11eb), [source 2](https://chat.openai.com/share/3ffb0052-aeae-4205-9eee-e20ccce6d9f5), [source 3](https://chat.openai.com/share/33551eb6-aa58-4095-9c05-e0b71b236379), [source 4](https://chat.openai.com/share/3ffb0052-aeae-4205-9eee-e20ccce6d9f5), [source 5](https://socket.io/docs/v3/rooms/) (send a message to only a specific group of clients, implemented on the server as "rooms").

This is part 3 of the project. Open the server with the instructions below, the user should see the game title "Racing Arena", number of currently online players (updated in real time), a textbox asking the player to enter their username (no more than 10 characters and consists of only `[A-Za-z0-9_]`), and list of players successfully registered (also updated in real time).

- If the user enters a valid username and clicks the "Submit" button, they have successfully registered: the "Submit" button will disappear and their name will be added to the bottom of the list of players.
- If the user enters an invalid username or the same username as an existing player, their username is not accepted and the server will tell the user this.
- Maximum number of players: 10
- If there are at least 2 players successfully registered, clients who have registered will see a "Start Game" button.

# Instructions

- Clone with the "Open with GitHub Desktop" (that's what I used) or any other clone option suitable for you.
- Open the project folder. I use Visual Studio Code IDE with [Code Runner](https://youtu.be/n0hBK3_QT9A) installed to make things easier.
- Install [Node.js](https://nodejs.org/en). To check if you have installed Node.js successfully, go to Command Prompt and type `node`. This should be shown:

```
Welcome to Node.js v20.12.0.
Type ".help" for more information.
```

- The folder `node_modules` and the files `packages.json` and `packages-lock.json` already has all the libraries you need. However, if for some reason it does not run correctly on your computer (maybe because it's outdated), do the following (no need to do these if it runs normally):
  - Delete the folder `node_modules` and the files `packages.json` and `packages-lock.json`.
  - Open Command Prompt in the root directory (must be the correct location, this contains the folder `public` and the file `server.js`).
  - In the Command Prompt, install Express.js and Socket.IO using the following command: `npm install express socket.io`. Express.js is used to create the HTTP server and serve static files (like HTML, CSS, and JavaScript), while Socket.IO is used for real-time communication between the server and clients.
- If using Visual Studio Code with Code Runner extension, run `server.js` in the project. If not, open Command Prompt in the root directory and type `node server.js`. This should be displayed:

```
Server is running on port 3000
```

- Find your IP address. Go to Command Prompt and type `ipconfig`, find the [IPv4 Address](https://youtu.be/_whymdfq-R4?list=PLzMcBGfZo4-kR7Rh-7JCVDN8lm3Utumvq&t=837). It looks like this:

```
Wireless LAN adapter Wi-Fi:
   Connection-specific DNS Suffix  . : itotolink.net
   IPv4 Address. . . . . . . . . . . : XXX.XXX.X.X
   Subnet Mask . . . . . . . . . . . : XXX.XXX.XXX.X
   Default Gateway . . . . . . . . . : XXX.XXX.X.X
```

- Although the design of the web app is in `index.html`, if you go there, the game will not work. Instead, you have to go to the website of the following form (using any web browser, works on both PC and smartphones in the same local network): `XXX.XXX.X.X:3000`, with `XXX.XXX.X.X` being your IP address.

# Code documentation

I won't explain the basics of HTML and Javascript, watch the videos above or Google if you don't understand yet.

In `server.js`, the first 6 lines of code (line 1-3 and line 5-7) are the declarations required to create a server, generated by ChatGPT. These lines should not be changed. The same applies to the functions `app.get()` and `server.listen(3000, ...)` at the end of this file.

The most important server-related function is `io.on("connection", (socket) => {...})`. Inside here is what happens while a specific client (socket) connects to the server. `emit` and `on` statements can be found in both `index.html` and `server.js`. Here is how they work:

- `io.emit()` in `server.js` (which does not have its implementation attached here) means that the `socket.on()` function with the same name in `index.html` (where its actual implementation is found) is called, applied to all users.
- `socket.emit()` in `server.js` means that the `socket.on()` function with the same name in `index.html` is called, applied only to the user/client/socket triggered it.
- `socket.emit()` in `index.html` means that the information that the action/information of the specific user/client/socket has provided is sent to the server via the `socket.on()` function with the same name in `server.js`.
